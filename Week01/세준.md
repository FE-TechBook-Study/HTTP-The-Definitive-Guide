# 세준

### **HTTP**

- HTTP는 텍스트뿐 아니라 이미지, 영상 등 다양한 리소스를 전송
- 신뢰성을 위해 **TCP를 기반**으로 동작
- 기본적으로 비연결성(stateless)이며 요청/응답 구조

---

### **웹 클라이언트와 서버**

- 웹은 클라이언트(브라우저)와 **서버**가 HTTP를 통해 통신하는 구조
- 브라우저가 HTTP 요청 → 서버가 응답
- ex) `www.oreilly.com/index.html`을 요청하면 HTML 파일을 내려줌

---

### **리소스**

- 웹에서 접근 가능한 모든 콘텐츠는 **리소스**
- 정적 파일(HTML, JPEG 등)뿐 아니라 동적으로 생성된 결과도 리소스

### 미디어 타입 (MIME)

- 파일의 종류를 알려주는 표준 타입
  - ex) `text/html`, `image/jpeg`
- HTTP 응답 헤더의 `Content-Type`에 주로 포함됨
- 클라이언트는 이 값을 바탕으로 적절한 처리(렌더링, 실행 등)를 수행

### URI

- 리소스를 식별하기 위한 문자열 (URL/URN 포함)

### URL

- `위치` 기반 리소스 식별자 (`https://example.com/index.html`)

### URN

- `이름` 기반 리소스 식별자 (`urn:isbn:1234` 등)
- **주로 도서, 논문, 표준 문서** 등 변하지 않는 리소스를 이름으로 식별할 때 사용.

---

### **트랜잭션**

- 클라이언트가 서버에게 하나의 HTTP 요청을 보내고 서버가 이에 대한 HTTP 응답을 돌려주는 일련의 통신 과정. 요청 응답이 한 쌍
- 하나의 웹페이지는 여러 트랜잭션(HTML + 이미지 + JS...)으로 구성됨
- HTTP/1.1부터는 keep-alive 기능으로 여러 트랜잭션을 하나의 TCP 연결로 처리

### 메서드

- HTTP 작업 지시 방법
  - `GET`: 데이터 조회
  - `POST`: 데이터 제출
  - `PUT`, `DELETE` 등도 있음

### 상태 코드

- 서버의 응답 결과
  - `200 OK`: 정상
  - `404 Not Found`: 없음
  - `302 Found`: 리다이렉션
- 클라이언트는 상태 코드를 통해 요청 결과를 해석

---

### **메시지**

- 요청/응답은 메시지 형태로 구성됨
- 구조:
  - 시작줄 (예: `GET / HTTP/1.1`)
  - 헤더 (key-value 형식의 정보)
  - 본문 (필요 시 포함)

---

### **TCP 커넥션**

- HTTP는 TCP 위에서 동작. HTTP(자전거), TCP(도로)
- **TCP/IP 3계층 모델** 기반: IP(주소), TCP(전송), HTTP(응용)
- 클라이언트가 DNS로 IP를 찾고 → TCP 포트(80)에 연결 → HTTP 요청 전송

```jsx
[애플리케이션 계층]    → HTTP, FTP, SMTP 등
[전송 계층]          → TCP, UDP
[인터넷 계층]        → IP
[네트워크 계층]      → 물리적 연결
```

### TCP 커넥션 특징

| 특징            | 설명                                     |
| --------------- | ---------------------------------------- |
| **신뢰성 보장** | 데이터가 유실되거나 순서가 바뀌어도 복구 |
| **순서 보장**   | 항상 보낸 순서대로 도착하게 정렬         |
| **흐름 제어**   | 수신자의 처리 속도에 맞춰 전송           |
| **혼잡 제어**   | 네트워크 혼잡 시 자동 감속               |

### 텔넷 예제

- `telnet` 명령어로 직접 HTTP 요청을 입력해보는 실습
- curl 또는 Telnet으로 서버 응답 확인해보는 습관을 들이면 디버깅에 도움 된다고 한다.

---

### **프로토콜 버전**

- HTTP/0.9: GET만 가능
- HTTP/1.0: 헤더 도입, 연결 종료 방식
- HTTP/1.1: keep-alive, 파이프라이닝 등 도입
- HTTP/2.0: 멀티플렉싱, 헤더 압축
- HTTP/3.0: QUIC 기반, TCP 대신 UDP 사용

---

### **웹의 구성 요소**

- 프락시: 중간 서버, 캐싱, 보안, 필터링 역할
- 캐시: 요청 결과 저장 후 재사용
- 게이트웨이: 다른 프로토콜로 변환하는 중계 서버
- 터널: 암호화된 통신(HTTPS 지원)
- 에이전트: 사용자의 요청을 대신 만드는 프로그램 (브라우저, 크롤러 등)
- 브라우저 → 프락시 → 게이트웨이 → 서버 구조를 이해하면 네트워크 문제 원인 파악에 유리

## 인터넷의 리소스 탐색하기

- URL은 웹 브라우저나 앱이 리소스를 찾기 위한 **주소** 역할을 한다.
- URL은 HTTP 외에도 다양한 프로토콜 사용 가능 (ex: mailto, ftp, rtsp 등).
- URL은 `URN(Uniform Resource Name)`과 `URL`을 포함한 더 일반적인 개념인 **URI(Uniform Resource Identifier)**의 하위 개념이다.

**예시**

`http://www.joes-hardware.com/seasonal/index-fall.html`

- `http:` → **스킴**: 어떤 프로토콜을 쓸지
- `www.joes-hardware.com` → **호스트**
- `/seasonal/index-fall.html` → **경로(path)**

---

## URL 문법

URL은 다음과 같은 **구성요소들**로 나뉜다

```
php-template
복사편집
<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>?<질의>#<프래그먼트>
```

### 구성 요소 정리

| 컴포넌트               | 설명                                        |
| ---------------------- | ------------------------------------------- |
| 스킴                   | 리소스에 접근할 **프로토콜**                |
| 사용자 이름 / 비밀번호 | 인증용 정보 (주로 FTP에서 사용)             |
| 호스트                 | 서버 주소 (도메인 또는 IP)                  |
| 포트                   | 연결할 포트 (HTTP는 80, HTTPS는 443)        |
| 경로                   | 서버 내 리소스의 위치                       |
| 질의(Query)            | 요청에 필요한 추가 데이터 (ex. `?item=123`) |
| 프래그먼트(Fragment)   | 문서 내 특정 위치 지정 (`#section1`)        |

---

## 단축 URL

### 1. 상대 URL vs 절대 URL

- **절대 URL**: 스킴부터 모든 컴포넌트를 포함 (예: `http://example.com/path/file.html`)
- **상대 URL**: 기준이 되는 base URL에 상대적인 경로만 포함 (예: `./file.html`)

**상대 URL이 절대 URL로 변환되는 규칙**

상대 URL이 주어졌을 때, 기준 URL의 컴포넌트와 병합하는 방식으로 절대 URL이 완성됨. 이를 위해 "기저(base) URL"이라는 기준이 필요함.

### 2. URL 확장

- 브라우저는 사용자가 입력한 URL을 자동으로 보완함
- 예: `yahoo` 입력 → `www.yahoo.com`으로 확장

---

## URL에서의 안전성 문제

### 1. 안전하지 않은 문자

- URL에는 **US-ASCII 문자만 사용**해야 하며, 안전하지 않은 문자는 인코딩 필요
- 예: 공백 → `%20`, `@` → `%40`

### 2. 인코딩 체계

- ASCII를 기반으로 `%` 뒤에 16진수 값으로 인코딩
- 예: `~` → `%7E`

### 3. 제한 문자

- 몇몇 문자는 URL 내에서 특별한 의미를 가짐 (예: `/`, `?`, `#`)
- URL 내부에서 쓰기 위해서는 반드시 인코딩 필요

---

## URL 스킴

URL 스킴(프로토콜 종류)은 다음과 같은 종류가 있다

| 스킴   | 설명                  | 예시                        |
| ------ | --------------------- | --------------------------- |
| http   | 웹 리소스 접근        | `http://example.com`        |
| https  | 보안 웹 리소스        | `https://secure.com`        |
| ftp    | 파일 전송             | `ftp://user@host/file.txt`  |
| mailto | 이메일                | `mailto:person@example.com` |
| file   | 로컬 파일 시스템 접근 | `file:///C:/file.txt`       |
| news   | 뉴스 그룹             | `news:comp.infosystems.www` |
| telnet | 원격 로그인           | `telnet://user@host:23/`    |
