# 민지

# 1장

웹 콘텐츠와 웹 리소스는 어떤 차이가 있는거지?

MIME

## 1.1 HTTP: 인터넷의 멀티미디어 배달부

- HTTP는 전 세계의 웹 서버로부터 대량의 정보를 빠르고, 간편하고, 정확하게 사람들의 PC에 설치된 웹 브라우저로 옮겨준다.
- HTTP는 신뢰성 있는 데이터 전송 프로토콜을 사용하기 때문에, 데이터가 손상되거나 꼬이지 않음을 보장한다.

## 1.2 웹 클라이언트와 서버

- 클라이언트는 서버에게 HTTP 요청을 보내고 서버는 요청된 데이터를 HTTP 응답으로 돌려준다.
- ex)
  - 클라이언트(chrome) → 서버(www.naver.com) : index.html이라는 이름의 문서를 가져와라
  - 서버(www.naver.com) → 클라이언트(chrome) : 여기 HTTP 포맷의 길이는 3,150 글자의 HTTP 응답을 줄게

## 1.3 리소스

- 웹 리소스는 웹 콘텐츠의 원천이며 가장 단순한 웹 리소스는 웹 서버 파일 시스템의 정적 파일이다.
- 정적 파일은 텍스트, HTML, 워드, 이미지, 동영상 등 모든 종류의 파일을 포함한다.
- 리소스는 반드시 정적 파일이어야 할 필요는 없으며 요청에 따라 콘텐츠를 생상하는 프로그램이 될 수 있다.
  - 동적 콘텐츠 리소스는 사용자가 누구인지, 어떤 정보를 요청했는지, 몇 시인지에 따라 다른 콘텐츠를 생성한다.

### 1.3.1 미디어 타입

- 인터넷은 수천 가지 데이터 타입을 다루기 때문에, HTTP는 웹에서 전송되는 객체 각각에 신중하게 MIME 타입이라는 데이터 포맷 라벨을 붙인다.
- MIME (Multipurpose Internet Mail Extensions)
  - 원래 각기 다른 전자메일 시스템 사이에서 메세지가 오갈 때 겪는 문제점을 해결하기 위해 설계되었다.
- 웹 서버는 모든 HTTP 객체 데이터에 MIME 타입을 붙인다.
- MIME 타입은 사선(/)으로 구분된 주타입과 부타입으로 이루어진 문자열 라벨이다.
  - `text/html`, `text/plain`, `image/jpeg`, `image/gif`

### 1.3.2 URI (Uniform Resource Identifier)

- 웹 서버 리소스는 각자 이름을 갖고 있기 때문에, 클라이언트가 특정 리소스를 지목할 수 있다.
- URI는 인터넷의 주소 개념으로, 정보 리소스를 고유하게 식별하고 위치를 지정할 수 있다.

### 1.3.3 URL (Uniform Resource Locator)

- 리소스 식별자의 가장 흔한 형태
- URL은 리소스가 정확히 어디에 있고 어떻게 접근할 수 있는지 분명히 알려준다.
- URL은 세 부분으로 이루어진 표준 포맷을 따른다.
  1. 스킴(scheme) : 리소스에 접근하기 위해 사용되는 프로토콜 - `http://`
  2. 서버의 인터넷 주소 : `www.naver.com`
  3. 웹 서버의 리소스 : `/blog/example.jpeg`

### 1.3.4 URN (Uniform Resource Name)

- URL은 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할
- 위치 독립적인 URN은 리소스를 옮기더라도 문제없이 동작한다.

## 1.4 트랜잭션

- **하나의 작업 단위를 이루는 연산들의 묶음**
- HTTP 트랜잭션은 요청 명령과 응답 결과로 구성된다.

### 1.4.1 메서드

- HTTP는 HTTP메서드라고 불리는 여러 가지 종류의 요청 명령을 지원한다.
- 모든 HTTP 요청 메세지는 한 개의 메서드를 갖는다.
- ex) GET, PUT, POST, DELETE, PATCH …

### 1.4.2 상태 코드

- 모든 HTTP 응답 메세지는 상태 코드와 함께 반환된다.
- 상태 코드는 요청이 성공했는지 추가 조치가 필요한지 알려주는 세 자리 숫자이다.
- ex) 200, 302, 404

## 1.5 메시지

- HTTP 메세지는 다음의 세 부분으로 이루어진다.
  1. 시작줄
     - 메세지의 첫 줄
     - 요청이라면 무엇을 해야하는지, 응답이라면 무슨 일이 일어났는지를 나타낸다.
  2. 헤더
     - 시작줄 다음에는 0개 이상의 헤더 필드가 이어진다.
     - 각 헤더 필드는 쌍점(:)으로 구분되어 있는 하나의 이름과 하나의 값으로 구성된다.
  3. 본문
     - 요청의 본문은 웹 서버로 데이터를 실어 보내며, 응답의 본문은 클라이언트로 데이터를 반환한다.
     - 시작줄이나 헤더와 달리, 본문은 임의의 이진 데이터를 포함할 수 있다.(이미지, 비디오 …)

## 1.6 TCP 커넥션

- **두 컴퓨터 간에 안정적이고 순서가 보장되는 데이터 통신을 위해 TCP 프로토콜로 맺는 연결**

### 1.6.1 TCP/IP

- HTTP : 애플리케이션 계층 프로토콜
- HTTP는 네트워크 통신의 핵심적인 세부사항에 대해서는 신경쓰지 않으며, 인터넷 전송 프로토콜인 TCP/IP에게 맡긴다.
- TCP/IP는 각 네트워크와 하드웨어의 특성을 숨기고, 어떤 종류의 컴퓨터나 네트워크든 서로 신뢰성 있는 의사소통을 하게 해준다.
- TCP 커넥션이 맺어지면, 클라이언트와 서버 컴퓨터 간에 교환되는 메세지가 없어지거나, 손상되거나, 순서가 뒤바뀌어 수신되는 일은 결코 없다.

### 1.6.2 접속, IP주소 그리고 포트번호

- HTTP 클라이언트가 서버에 메세지를 전송할 수 있게 되기 전에, 인터넷 프로토콜(IP)주소와 포트번호를 사용해 클라이언트와 서버 사이에 TCP/IP 커넥션을 맺어야 한다.
- TCP에서는 서버 컴퓨터에 대한 IP주소와 그 서버에서 실행 중인 프로그램이 사용 중인 포트번호가 필요하다.
  - HTTP 서버의 IP주소와 포트번호를 어떻게 알아낼 수 있을까? → URL !
- `http://207.200.83.29:80/index.html`
  - IP주소와 포트번호를 가지고 있는 경우
- `http://www.example.com:80/index.html`
  - DNS를 통해 호스트명(www.example)을 IP로 변환
- `http://www.example.com/index.html`
  - 포틉번호가 없는 경우 기본 포트를 사용 (http : 80, https : 443)

## 1.7 프로토콜 버전

- HTTP/0.9
  - 시기 : 1991년
  - 오직 GET 메서드만 지원
  - HTML만 전송가능하며 헤더가 존재하지 않고 응답 본문만 존재
- HTTP/1.0
  - 시기 : 1996년
  - 버전 번호, 헤더, 추가 메서드, 멀티미디어 객체 처리 추가
  - 요청마다 새로운 TCP 연결
- HTTP/1.0+
  - 시기 : 1990년대 중반
  - keep-alive커넥션, 가상 호스팅 지원, 프락시 연결 지원
- HTTP/1.1
  - HTTP 설계의 구조적 결함 교정, 성능 최적화, 잘못된 기능 제거에 집중
- HTTP/2
  - 시기 : 2015년
  - SPDY 프로토콜 기반
  - 하나의 TCP 연결에서 다중 스트림
- HTTP/3
  - 시기 : 2022년
  - TCP대신 QUIC(UDP기반) 사용

## 1.8 웹의 구성요소

- 프락시
  - 클라이언트와 서버 사이에 위치한 HTTP 중개자
  - 웹 보안, 애플리케이션 통합, 성능 최적화를 위한 중요한 구성요소
- 캐시
  - 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
- 게이트웨이
  - 다른 애플리케이션과 연결된 특별한 웹 서버
- 터널
  - 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시
- 에이전트
  - 자동화된 HTTP 요청을 만드는 준지능적 웹클라이언트
